!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.ResponsiveBackgrounds=b(a)}(this,function(a){"use strict";var b={},c=(!!document.querySelector&&!!a.addEventListener,{envs:["xs","sm","md","lg"],selector:".bg-responsive",interval:300}),d=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)},e=function(a,b){var c={};return d(a,function(b,d){c[d]=a[d]}),d(b,function(a,d){c[d]=b[d]}),c},f=Date.now||function(){return(new Date).getTime()},g=function(a,b,c){var d,e,g,h,i,j=function(){var k=f()-h;b>k&&k>=0?d=setTimeout(j,b-k):(d=null,c||(i=a.apply(g,e),d||(g=e=null)))};return function(){g=this,e=arguments,h=f();var k=c&&!d;return d||(d=setTimeout(j,b)),k&&(i=a.apply(g,e),g=e=null),i}},h=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}};return b.init=function(a){c=e(c,a||{});for(var d,f,i=document.querySelectorAll(c.selector),j=b.currentBreakpoint(),k=0,l=i.length;l>k;k++)d=i[k],f=d.getAttribute("data-"+j),null!==f?d.style.backgroundImage="url("+f+")":"object"==typeof console&&console.warn("Data attribute: data-"+j+" not found on element:\n\n"+d.outerHTML+"\n\n\n");h(window.addEventListener("resize",g(b.init),c.interval,!1))},b.currentBreakpoint=function(a){var b,d=window.document,e=d.createElement("div");d.body.appendChild(e);for(var f=c.envs.length-1;f>=0;f--)if(b=c.envs[f],e.className="hidden-"+b,null===e.offsetParent)return d.body.removeChild(e),b;return"Unknown breakpoint"},b});